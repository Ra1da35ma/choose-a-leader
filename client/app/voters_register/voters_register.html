<div ng-include="'components/navbar/navbar.html'" xmlns="http://www.w3.org/1999/html"></div>

<div class="container">

  <div class="row" style="margin-top: 15px">
    <div class="col-md-offset-2 col-md-8 panel panel-green" >
      <div class="panel-heading">
        <div class="panel-title text-center"><img ng-src="assets/images/logo.png">
        <h2><span class="text-uppercase text-white text-bold">Voters Register</span></h2>
        <h5>
          <span class="text-uppercase text-white text-bold">Welcome to the NBA Election Portal Voters Regiter</span>
        </h5>
          </div>
      </div>
      <div class="panel-body">
        <br><br>
       <div class="row col-md-12">
         <label for="branch">NBA Branch <span class="required">*</span></label>
         <select  ng-options="branch as branch for branch in branchData | orderBy:'-name':'reverse'" class="form-control" ng-change="searchBranch()" ng-model="selectedItem" id="branch"
                  ng-required="true">
       </div>
        <br><br>
      </div>
      <div class="panel-footer">
        <div class="text-left">

        </div>
      </div>
    </div>

    <!--start of table-->
    <div class="panel panel-green">
      <div class="panel-heading">
        <div class="panel-title">
          <i class="fa fa-users"></i> ALL MEMBERS <span ng-show="total">({{total}})</span>

        </div>

      </div>
      <select class="pull-right" ng-model="perPage" ng-options="item for item in pageSizes"
              ng-change="pageChanged()"></select>

      <div class="panel-body">

        <div class="text-center">
          <pagination first-text="First" last-text="Last" next-text="Next"
                      previous-text="Previous"
                      boundary-links="true"
                      items-per-page="perPage"
                      class="centered-pager"
                      ng-change="pageChanged()" total-items="total" ng-model="currentPage" max-size="10" class="pagination-sm" num-pages="pages"></pagination>
        </div>

        <!--<div class="form-group ">-->
          <!--<div class="input-group">-->
            <!--<div class="input-group-addon"><i class="fa fa-search"></i></div>-->
            <!--<input type="text" class="form-control" placeholder="Filter Members" ng-model="searchMembers">-->
          <!--</div>-->
        <!--</div>-->
        <table class="table table-striped table-condensed table-hover">
          <tr>
            <th>S/N.</th>
            <th><a href="#" ng-click="sortType = 'surname' ; sortReverse = !sortReverse">
              NAME
              <span ng-show="sortType == 'surname' && sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'surname' && !sortReverse" class="fa fa-caret-up"></span></a>
            </th>
            <th class="text-center"><a href="#" ng-click="sortType = 'sc_number' ; sortReverse = !sortReverse">
              ENROLLMENT NO.
              <span ng-show="sortType == 'sc_number' && sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'sc_number' && !sortReverse" class="fa fa-caret-up"></span></a>
            </th>
            <th><a href="#" ng-click="sortType = 'phone' ; sortReverse = !sortReverse">
              PHONE
              <span ng-show="sortType == 'phone' && sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'phone' && !sortReverse" class="fa fa-caret-up"></span></a>
            </th>
            <!--<th>ACCESS CODE</th>-->
            <th/>
            <th/>
          </tr>
          <tr ng-repeat="m in members | orderBy:sortType:sortReverse | filter:searchMembers track by $index">
            <td>{{(currentPage-1)*perPage+$index+1}}. <i class="fa fa-check-square text-success"
                                                         ng-show="m.verified==1"></i> </td>
            <td>{{m.surname}} {{m.firstName || m.othername}} {{m.middleName}}</td>
            <td class="text-center">{{m.sc_number}}</td>
            <td>{{m.phone}}</td>
            <!--<td>{{m.accessCode}}</td>-->
            <td>
              <button ng-hide="m.verified==1 || !m.phone || !m.sc_number"
                      class="btn btn-xs btn-block btn-primary"
                      ng-click="verify(m, $index)">
                <i class="fa fa-check-square "></i> Verify
              </button>
            </td>
            <td>
              <button class="btn btn-xs btn-block btn-purple" ng-click="editMember(m, $index)">
                <i class="fa fa-pencil-square "></i> Edit
              </button>
            </td>
          </tr>
        </table>

        <div class="text-center">
          <pagination first-text="First" last-text="Last" next-text="Next"
                      previous-text="Previous"
                      boundary-links="true"
                      items-per-page="perPage"
                      class="centered-pager"
                      ng-change="pageChanged()" total-items="total" ng-model="currentPage" max-size="10" class="pagination-sm" num-pages="pages"></pagination>
        </div>

      </div>

      <div class="panel-footer text-left">
        <b>Number of Members: {{total}}</b>
      </div>
    </div>
    <!--End of table-->

  </div>
</div>
